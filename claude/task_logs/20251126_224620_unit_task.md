### TASK: Refactor Unit

## Goal
Implement all suggestions to the Unit, Weapon and BattleEffect classes

## Path
Unit class: $UNIT/Unit{.h/.cpp}
Weapon class: $UNIT/Weapons/Weapon{.h/.cpp}
Unit stats: $UNIT/UnitStats.h
Battle Effects: $UNIT/BattleEffects/BattleEffect{.h/.cpp}

## Suggestions

# Weapon
- Need to be refactored as dataasset (UPrimaryDataAsset)
- Stores: FWeaponStats for stats, TArray<TSubclassOf<UBattleEffect>> for effects

# BattleEffect
- DataAsset class with init data + UBattleEffect class for instances
- Common parameters: UBattleEffectDataAsset Config, int32 RemainingTurns
- Several trigger methods: on turn start/end, on unit attacked/attacks/moved/died, on applied/removed (virtual empty methods)

# Effect manager
- component for Unit
- Stores: array of UBattleEffect references
- Methods: Broadcast{$trigger method} for each of BattleEffect triggers

# Unit
- DataAsset + AUnit class
- Asset stores: mesh, animation, portrait (UTexture2D), base stats template, base progression template, array of UWeapon for weapons
- class stores: UnitDefinition reference, initial level (editable in Editor)
- on BeginPlay: initialize base stats and current stats from UnitDefinition, process levelup (stub with TODO comment)
- No grid coordinates (refactor current usage)
- UnitStats.h contents are ok, don't change it without permission


## Implementation Order
1. Analyze code and task
2. Propose possible implementation of Weapon, BattleEffect and EffectManager
3. Propose possible implementation of Unit
3. Implement 
4. Copy task file in ./claude/task_logs/{time}_{task name}.md

## Proposition guidelines
- Describe classes, members, relationships (no implementation in planning)
- Note assumptions made
- Note dependencies on implemented systems